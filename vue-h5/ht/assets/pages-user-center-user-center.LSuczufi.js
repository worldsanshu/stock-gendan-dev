import{T as a,aC as e,V as t,aI as s,aJ as l,x as n,y as r,z as i,o as u,B as o,C as c,H as d,Y as f,I as m,J as p,aF as _,aG as g,D as h,E as v,F as k,a9 as y,A as x,G as b,aH as C,O as w,r as j,q as F}from"./index-Sr5TDQAh.js";import{_ as B}from"./u-image.CwRgxS0R.js";import{a as I,f as G,b as J,r as T}from"./uni-app.es.B63rG-5C.js";import{_ as $}from"./uni-nav-bar.By4fAi85.js";import{_ as z}from"./uni-badge.CoTN6RjE.js";import{_ as D}from"./u-button.CU7Qcvp2.js";import{_ as H}from"./u-icon.CLEL_UCr.js";import{a as N,g as q}from"./wallet.B9er1vRS.js";import{a as A}from"./index.DvuIAcF8.js";import{_ as E}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-transition.YuOrIOgJ.js";import"./uni-icons.Dfj_jVd_.js";import"./uni-status-bar.vrssoW7T.js";import"./u-loading-icon.BJj1gzKk.js";const K=E({__name:"user-center",setup(E){const K=a(),L=e((()=>K.userinfo));let O=t("transparent"),R=t(0),V=t([]),Y=t({}),M=t([]),P=t([]);const Q=t(),S=a=>{1===a.url_type?1===a.url_level?j({url:a.url}):2===a.url_level&&F({url:a.url}):2===a.url_type&&setTimeout((()=>window.open(a.url,"_blank")))};return A().then((a=>{Q.value=a.data.module})),I((()=>{O.value="transparent",s({key:"userCenterNavBarBgColor",success:function(a){a.data&&(O.value=a.data)}}),(async()=>{const{data:a,error:e}=await u();0===e&&(M.value=a.user,P.value=a.user_list)})(),(async()=>{const{data:a,error:e}=await N();0===e&&(V.value=a)})(),(async()=>{const{data:a,error:e}=await q();0===e&&(Y.value=a.money,R.value=a.info.msg_num)})()})),G((a=>{a.scrollTop>34?O.value="#ff6b5a":O.value="transparent"})),J((()=>{l({key:"userCenterNavBarBgColor",data:O.value})})),(a,e)=>{const t=o,s=T(n("up-image"),B),l=T(n("uni-nav-bar"),$),u=w,j=T(n("uni-badge"),z),F=T(n("up-button"),D),I=T(n("up-icon"),H);return c(),r(t,null,{default:i((()=>[d(t,{class:"page-bg"}),d(s,{class:"page-top-bg",src:"/static/user-center/userCenterBackGround.png",width:"100vw",height:"512rpx"}),d(t,{class:"custom-nab-bar"},{default:i((()=>[d(l,{title:"个人中心","status-bar":"",border:!1,"background-color":f(O),color:"#fff",fixed:""},null,8,["background-color"])])),_:1}),d(t,{class:"main-content"},{default:i((()=>[d(t,{class:"user-info"},{default:i((()=>[d(s,{src:"/static/images/default-avatar.png",width:"120rpx",height:"120rpx",shape:"circle"}),d(t,{class:"info-right"},{default:i((()=>[d(t,{class:"info-right-top"},{default:i((()=>[d(u,null,{default:i((()=>[m(p(L.value.nickname||L.value.mobile||L.value.email),1)])),_:1}),d(t,{class:"message-content",onClick:f(_)},{default:i((()=>[d(s,{src:"/static/user-center/message.png",width:"44rpx",height:"35rpx"}),d(j,{class:"message-badge",text:f(R)},null,8,["text"])])),_:1},8,["onClick"])])),_:1}),d(t,{class:"edit-data",onClick:f(g)},{default:i((()=>[d(F,{color:"rgba(0, 0, 0, 0.1)",hairline:"",shape:"circle",text:"编辑资料"})])),_:1},8,["onClick"])])),_:1})])),_:1}),d(t,{class:"account-assets"},{default:i((()=>[d(t,{class:"account-assets-top"},{default:i((()=>[d(s,{src:"/static/user-center/assets.png",width:"30rpx",height:"30rpx"}),d(u,{class:"account-assets-title"},{default:i((()=>[m("账号资产")])),_:1}),d(u,{class:"account-assets-amount"},{default:i((()=>[m(p(f(Y).total<0?0:f(Y).total),1)])),_:1})])),_:1}),d(t,{class:"assets-detail"},{default:i((()=>[(c(!0),h(k,null,v(f(V),(a=>(c(),r(t,{key:a.name,style:y(`background: url(${a.img_url})`),class:"assets-detail-item"},{default:i((()=>[d(u,null,{default:i((()=>[m(p(a.name),1)])),_:2},1024),d(u,null,{default:i((()=>[m(p(f(Y)[a.money]<0?0:f(Y)[a.money]),1)])),_:2},1024)])),_:2},1032,["style"])))),128))])),_:1})])),_:1}),f(M).length?(c(),r(t,{key:0,style:y(`grid-template-columns: repeat(${f(M).length>=4?4:f(M).length}, 1fr)`),class:x(["main-option",{"main-option-grid4":f(M).length>=4}])},{default:i((()=>[(c(!0),h(k,null,v(f(M),(a=>(c(),r(t,{key:a.name,class:"main-option-item",onClick:e=>S(a)},{default:i((()=>[d(s,{src:a.img_url,width:"76rpx",height:"76rpx"},null,8,["src"]),d(u,null,{default:i((()=>[m(p(a.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["style","class"])):b("",!0),Q.value&&1===Q.value.my_rights?(c(),r(t,{key:1,class:"invite-friends",onClick:f(C)},{default:i((()=>[d(t,{class:"invite-friends-title"},{default:i((()=>[d(u,null,{default:i((()=>[m("全新合伙模式")])),_:1}),d(u,null,{default:i((()=>[m("查看我的权益")])),_:1})])),_:1}),d(t,{class:"invite-friends-main"},{default:i((()=>[d(t,{class:"invite-friends-main-left"},{default:i((()=>[d(s,{src:"/static/user-center/inviter.png",width:"85rpx",height:"85rpx"}),d(t,{class:"invite-friends-main-left-inner"},{default:i((()=>[d(t,{class:"invite-friends-main-left-inner-title1"},{default:i((()=>[d(u,null,{default:i((()=>[m("邀请好友领高额返佣")])),_:1}),d(I,{name:"arrow-right",color:"#676767",size:"14"})])),_:1}),d(u,null,{default:i((()=>[m("高额佣金送不停")])),_:1})])),_:1})])),_:1}),d(F,{color:"linear-gradient(-45deg, #FF934C, #FF5B63)",shape:"circle",text:"立即邀请"})])),_:1})])),_:1},8,["onClick"])):b("",!0),f(P).length?(c(),r(t,{key:2,class:"secondary-option"},{default:i((()=>[(c(!0),h(k,null,v(f(P),(a=>(c(),r(t,{class:"secondary-option-item",key:a.name,onClick:e=>S(a)},{default:i((()=>[d(s,{src:a.img_url,width:"50rpx",height:"50rpx"},null,8,["src"]),d(u,null,{default:i((()=>[m(p(a.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):b("",!0),d(t,{class:"log-out"},{default:i((()=>[f(K).token?(c(),r(F,{key:0,color:"#FF4500",text:"退出登录",onClick:e[0]||(e[0]=e=>f(K).handleLogout(a.$t))})):b("",!0)])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-8a3272d3"]]);export{K as default};
