import{T as t,aD as a,V as s,o as e,aE as l,aF as n,x as c,y as i,z as u,A as o,C as r,H as m,Y as _,aG as f,I as d,J as p,aH as g,D as v,E as x,F as y,aI as k,G as b,N as h,t as j,r as $}from"./index-BSZMSohE.js";import{_ as C}from"./uni-icons.UvJfiB1T.js";import{c as w,r as U}from"./uni-app.es.xTxZrAO-.js";import{_ as L}from"./uni-badge.D3JSGdBF.js";import{_ as A}from"./u-avatar.Ce86nyqC.js";import{_ as z,a as F}from"./uni-list.BAmADFzC.js";import{_ as I}from"./u-button.Bc9J1urq.js";import{a as R,i as D}from"./index.D3LolpWH.js";import{U as G}from"./uni-status-bar.DM8Vigxm.js";import{g as H}from"./wallet.BMFo6IIZ.js";import{_ as N}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-icon.rSo6jUIp.js";import"./u-text.BVXCciUH.js";import"./u-link.BTnagf1d.js";import"./u-loading-icon.oQN9K4Zk.js";const O=""+new URL("balance-C26h0NF1.png",import.meta.url).href,Y=""+new URL("margin-CJKe_HsQ.png",import.meta.url).href,B=""+new URL("active-funds-c2xUr-WB.png",import.meta.url).href,E=""+new URL("frozen-assets-DhAxbkZI.png",import.meta.url).href,J=""+new URL("invite-friend-FAY7KeGY.png",import.meta.url).href,K=N(Object.assign({name:"user-center"},{__name:"user-center",setup(N){const K=t(),P=a((()=>K.userinfo)),T=s({}),Q=s({}),V=s({}),W=s({}),X=s(0);let Z=s([]),q=s([]);R().then((t=>{Q.value=t.data.module})),D({}).then((t=>{V.value=t.data})),w((()=>{M(),async function(){const t=await H();t.data&&t.data.money&&(T.value=t.data.money,X.value=t.data.info.msg_num,W.value=t.data.info)}()}));const M=async()=>{const t=await e();0===t.error&&(Z.value=t.data.user,q.value=t.data.user_list)};const S=t=>{1==t.url_type?1==t.url_level?j({url:t.url}):2==t.url_level&&$({url:t.url}):2==t.url_type&&window.open(t.url,"_blank")},tt=s(l());return console.log("currentLang",tt),n((t=>{tt.value=t.locale})),(t,a)=>{const s=U(c("uni-icons"),C),e=U(c("uni-badge"),L),l=r,n=U(c("up-avatar"),A),j=h,$=U(c("uni-list-item"),z),w=U(c("uni-list"),F),R=U(c("up-button"),I);return i(),u(l,{class:"user-center"},{default:o((()=>[m(G),m(l,{class:"top"},{default:o((()=>[m(l,{class:"top-right-icon"},{default:o((()=>[m(s,{type:"email",size:"30",onClick:_(f)},null,8,["onClick"]),m(e,{class:"top-right-num",text:X.value},null,8,["text"])])),_:1})])),_:1}),m(l,{class:"header"},{default:o((()=>[m(n,{src:"/static/images/default-avatar.png"}),m(l,{class:"font-18 ml-30 mr-20 u-flex-fill ellipsis-1"},{default:o((()=>[d(p(P.value.nickname||P.value.mobile||P.value.email),1)])),_:1}),m(l,{class:"header-btn",onClick:_(g)},{default:o((()=>[d(p(t.$t("my.text.editInformation")),1)])),_:1},8,["onClick"])])),_:1}),m(l,{class:"label"},{default:o((()=>[d(p(t.$t("my.text.myAssets")),1)])),_:1}),m(l,{class:"assets-wrapper"},{default:o((()=>[m(l,{class:"assets"},{default:o((()=>[m(l,{class:"assets-item"},{default:o((()=>[m(l,{class:"assets-item__content"},{default:o((()=>[m(l,{class:"font-12"},{default:o((()=>[d(p(t.$t("my.text.accountAssets")),1)])),_:1}),m(l,{class:"font-14"},{default:o((()=>[d(p(T.value.total),1)])),_:1})])),_:1})])),_:1}),m(l,{class:"assets-item"}),m(l,{class:"assets-item bg"},{default:o((()=>[m(l,{class:"assets-item__content"},{default:o((()=>[m(l,{class:"font-12"},{default:o((()=>[d(p(t.$t("my.text.accountBalance")),1)])),_:1}),m(l,{class:"font-14"},{default:o((()=>[d(p(T.value.account),1)])),_:1})])),_:1}),m(j,{class:"assets-item__image",src:O})])),_:1}),m(l,{class:"assets-item bg"},{default:o((()=>[m(l,{class:"assets-item__content"},{default:o((()=>[m(l,{class:"font-12"},{default:o((()=>[d(p(t.$t("my.text.margin")),1)])),_:1}),m(l,{class:"font-14"},{default:o((()=>[d(p(T.value.bond_account),1)])),_:1})])),_:1}),m(j,{class:"assets-item__image",src:Y})])),_:1}),m(l,{class:"assets-item bg"},{default:o((()=>[m(l,{class:"assets-item__content"},{default:o((()=>[m(l,{class:"font-12"},{default:o((()=>[d(p(t.$t("my.text.activityFund")),1)])),_:1}),m(l,{class:"font-14"},{default:o((()=>[d(p(T.value.activity_account),1)])),_:1})])),_:1}),m(j,{class:"assets-item__image",src:B})])),_:1}),m(l,{class:"assets-item bg"},{default:o((()=>[m(l,{class:"assets-item__content"},{default:o((()=>[m(l,{class:"font-12"},{default:o((()=>[d(p(t.$t("my.text.freezingAssets")),1)])),_:1}),m(l,{class:"font-14"},{default:o((()=>[d(p(T.value.freeze),1)])),_:1})])),_:1}),m(j,{class:"assets-item__image",src:E})])),_:1}),m(l,{class:"assets-item bg"},{default:o((()=>[m(l,{class:"assets-item__content"},{default:o((()=>[m(l,{class:"font-12"},{default:o((()=>[d("持仓资产")])),_:1}),m(l,{class:"font-14"},{default:o((()=>[d(p(T.value.contract_gd),1)])),_:1})])),_:1}),m(j,{class:"assets-item__image",src:B})])),_:1})])),_:1})])),_:1}),m(l,{class:"actions"},{default:o((()=>[(i(!0),v(y,null,x(_(Z),(t=>(i(),u(l,{key:t.name,class:"actions-item",onClick:a=>S(t)},{default:o((()=>[m(j,{class:"actions-item__image",src:t.img_url},null,8,["src"]),m(l,{class:"actions-item__name"},{default:o((()=>[d(p(t.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),m(l,{class:"card",onClick:_(k)},{default:o((()=>[m(l,{class:"card-header"},{default:o((()=>[m(l,{class:"font-16-inverse"},{default:o((()=>[d(p(t.$t("my.text.tip1")),1)])),_:1}),m(l,{class:"font-12-inverse"},{default:o((()=>[d(p(t.$t("my.text.tip2")),1)])),_:1})])),_:1}),m(l,{class:"card-content"},{default:o((()=>[m(j,{class:"card-content__left",src:J}),m(l,{class:"card-content__middle"},{default:o((()=>[m(l,{class:"font-14"},{default:o((()=>[d(p(t.$t("my.text.tip3"))+">",1)])),_:1}),m(l,{class:"font-12 mt-10"},{default:o((()=>[d(p(t.$t("my.text.tip4")),1)])),_:1})])),_:1}),m(l,{class:"card-content__right"},{default:o((()=>[d(p(t.$t("my.text.inviteNow")),1)])),_:1})])),_:1})])),_:1},8,["onClick"]),_(q).length?(i(),u(w,{key:0,class:"mt-30"},{default:o((()=>[(i(!0),v(y,null,x(_(q),(t=>(i(),u($,{key:t.name,title:t.name,"show-extra-icon":"","extra-icon":{type:t.img_url,customPrefix:"fc-iconfont"},clickable:"",link:"",onClick:a=>S(t)},null,8,["title","extra-icon","onClick"])))),128))])),_:1})):b("",!0),_(K).token?(i(),u(l,{key:1,class:"logout",onClick:a[0]||(a[0]=a=>_(K).handleLogout(t.$t))},{default:o((()=>[m(R,{text:t.$t("my.text.signOut"),color:"rgb(255, 69, 0)"},null,8,["text"])])),_:1})):b("",!0),m(l,{class:"tab-bat-height"})])),_:1})}}}),[["__scopeId","data-v-66982a30"]]);export{K as default};
