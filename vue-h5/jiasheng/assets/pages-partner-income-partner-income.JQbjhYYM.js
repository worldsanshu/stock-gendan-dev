import{_ as t}from"./uni-nav-bar.By4fAi85.js";import{R as e,V as a,ap as o,x as l,D as s,H as n,Y as r,z as u,F as i,B as m,C as c,Z as d,I as p,J as f,E as x,y as _,G as v,A as g}from"./index-Sr5TDQAh.js";import{r as y}from"./uni-app.es.B63rG-5C.js";import{_ as b}from"./u-tabs.DDjdDcUA.js";import{_ as h}from"./u-loadmore.DVwrKmAI.js";import{_ as j}from"./u-empty.n33QbVpb.js";import{O as I,a as k}from"./index.DvuIAcF8.js";import{_ as $}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-icons.Dfj_jVd_.js";import"./uni-status-bar.vrssoW7T.js";import"./u-line.CzSBNpvZ.js";import"./u-loading-icon.BJj1gzKk.js";import"./u-icon.CLEL_UCr.js";const C=$({__name:"partner-income",setup($){const{t:C}=e(),w=a(1),D=a([]),M=a(1),F=a("loadmore"),z=a(0),B=a([]);function E(t){z.value=t.type,D.value=[],H()}o((()=>{H()}));const H=()=>{I({page:w.value,type:z.value}).then((t=>{for(let e=0;e<t.data.data.length;e++)D.value.push(t.data.data[e]);M.value=t.data.last_page,0==t.data.data.length&&(F.value="nomore")}))},J=()=>{w.value>=M.value&&(F.value="nomore"),w.value>=M.value||(F.value="loading",w.value++,setTimeout((()=>{H()}),0))};return async function(){const t=await k();let e=[];t.data&&(e=[{name:C("partnerIncome.text.all"),type:0},{name:C("partnerIncome.text.teamDivision"),type:1},{name:C("partnerIncome.text.subsidy"),type:3}],1===t.data.module.wage_display&&e.push({name:C("partnerIncome.text.weeklySalary"),type:2}),B.value=e,this.Collect())}(),(e,a)=>{const o=y(l("uni-nav-bar"),t),I=y(l("up-tabs"),b),k=m,$=y(l("up-loadmore"),h),C=y(l("up-empty"),j);return c(),s(i,null,[n(o,{title:e.$t("page.title.partnerIncome"),"status-bar":"","background-color":"#ff3c36",color:"#fff","left-icon":"left",fixed:"",border:!1,onClickLeft:r(d)},null,8,["title","onClickLeft"]),n(k,{class:"root"},{default:u((()=>[n(I,{list:B.value,onClick:E,scrollable:!1},null,8,["list"]),n(k,{class:"fixed"},{default:u((()=>[n(k,{class:"header border-bottom"},{default:u((()=>[n(k,{class:"header-item font-14"},{default:u((()=>[p(f(e.$t("partnerIncome.text.dataSent")),1)])),_:1}),n(k,{class:"header-item font-14"},{default:u((()=>[p(f(e.$t("partnerIncome.text.transactionType")),1)])),_:1}),n(k,{class:"header-item font-14"},{default:u((()=>[p(f(e.$t("partnerIncome.text.amount")),1)])),_:1})])),_:1})])),_:1}),n(k,{class:"list"},{default:u((()=>[(c(!0),s(i,null,x(D.value,((t,e)=>(c(),_(k,{class:"list-item border-bottom",key:e},{default:u((()=>[n(k,{class:"list-item-col"},{default:u((()=>[n(k,{class:"font-12-grey"},{default:u((()=>{return[p(f((e=t.create_time,a=new Date(1e3*e),a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes())),1)];var e,a})),_:2},1024)])),_:2},1024),n(k,{class:"list-item-col font-14"},{default:u((()=>[p(f(t.type_name),1)])),_:2},1024),n(k,{class:g(["list-item-col font-14-red",{"down-color":t.price<0}])},{default:u((()=>[p(f(t.price),1)])),_:2},1032,["class"])])),_:2},1024)))),128))])),_:1}),D.value.length>0?(c(),_($,{key:0,status:F.value,"loading-text":e.$t("common.text.loading"),"loadmore-text":e.$t("common.text.loadMore"),"nomore-text":e.$t("common.text.noMore"),onClick:J},null,8,["status","loading-text","loadmore-text","nomore-text"])):v("",!0),0==D.value.length?(c(),_(C,{key:1,mode:"data",icon:"/static/empty/empty-data.png",text:e.$t("common.text.noData")},null,8,["text"])):v("",!0)])),_:1})],64)}}},[["__scopeId","data-v-3bc1ab9c"]]);export{C as default};
