import{R as e,V as t,U as o,x as r,D as a,H as s,Y as l,z as d,F as p,B as n,C as i,Z as u,b5 as m,q as w}from"./index-DugkB_-4.js";import{_ as c}from"./uni-nav-bar.DGUi_IvM.js";import{r as b}from"./uni-app.es.CX-CC-lz.js";import{_ as f}from"./u-input.UpaywbSH.js";import{_ as g,a as y}from"./u-form.MzjK-z7U.js";import{_}from"./u-button.D_9ELcMi.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-icons.D9BxN9k6.js";import"./uni-status-bar.D_XiF9iL.js";import"./u-icon.Ca1c56qc.js";import"./u-line.BpwwmqXn.js";import"./u-loading-icon.CCS9DSWM.js";const h=x({__name:"user-center-profile-payment-password",setup(x){const{t:h}=e(),j=t(),P=o({oldpwd:"",newpwd:"",subpwd:""}),V={oldpwd:{type:"string",required:!0,message:h("paymentPassword.text.errorTip1"),trigger:["blur","change"]},newpwd:{type:"string",required:!0,message:h("paymentPassword.text.errorTip2"),trigger:["blur","change"]},subpwd:[{type:"string",required:!0,message:h("paymentPassword.text.errorTip3"),trigger:["blur","change"]},{validator:(e,t)=>t===P.newpwd,message:h("paymentPassword.text.errorTip4"),trigger:["change","blur"]}]};async function k(){try{await j.value.validate();const e=await m(P);if(w({title:e.message,icon:"none",duration:1e3}),e.error)return;u()}catch(e){e.length&&w({title:e[0].message,icon:"none"})}}return(e,t)=>{const o=b(r("uni-nav-bar"),c),m=b(r("up-input"),f),w=b(r("up-form-item"),g),x=b(r("up-form"),y),h=b(r("up-button"),_),v=n;return i(),a(p,null,[s(o,{title:e.$t("page.title.paymentPassword"),"status-bar":"","left-icon":"left","background-color":"#F8F8F8",fixed:"",border:!1,onClickLeft:l(u)},null,8,["title","onClickLeft"]),s(v,{class:"body"},{default:d((()=>[s(x,{class:"form","label-width":"120",labelPosition:"top",model:P,rules:V,ref_key:"formRef",ref:j},{default:d((()=>[s(w,{required:"","left-icon":"lock",label:e.$t("paymentPassword.text.oldPassword"),prop:"oldpwd",borderBottom:""},{default:d((()=>[s(m,{type:"password",modelValue:P.oldpwd,"onUpdate:modelValue":t[0]||(t[0]=e=>P.oldpwd=e),placeholder:V.oldpwd.message},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),s(w,{required:"","left-icon":"lock",label:e.$t("paymentPassword.text.newPassword"),prop:"newpwd",borderBottom:""},{default:d((()=>[s(m,{type:"password",modelValue:P.newpwd,"onUpdate:modelValue":t[1]||(t[1]=e=>P.newpwd=e),placeholder:V.newpwd.message},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),s(w,{required:"","left-icon":"lock",label:e.$t("paymentPassword.text.confirmPassword"),prop:"subpwd",borderBottom:""},{default:d((()=>[s(m,{type:"password",modelValue:P.subpwd,"onUpdate:modelValue":t[2]||(t[2]=e=>P.subpwd=e),placeholder:V.subpwd[0].message},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model"]),s(h,{class:"mt-100",color:"rgb(255, 69, 0)",text:e.$t("common.text.submit"),onClick:k},null,8,["text"])])),_:1})],64)}}},[["__scopeId","data-v-2aa256da"]]);export{h as default};
