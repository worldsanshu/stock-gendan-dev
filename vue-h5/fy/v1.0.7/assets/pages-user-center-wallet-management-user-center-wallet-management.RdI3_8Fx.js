import{R as a,V as t,aI as e,aJ as s,bZ as l,x as n,D as i,H as o,Y as c,z as r,F as u,v as d,B as m,C as f,as as p,f as _,I as g,b$ as k,E as y,y as v,G as b,cf as h,cg as C,J as x,aX as w,c6 as j}from"./index-Sr5TDQAh.js";import{_ as B}from"./uni-nav-bar.By4fAi85.js";import{f as $,a as M,b as z,o as F,r as D}from"./uni-app.es.B63rG-5C.js";import{_ as I}from"./uni-icons.Dfj_jVd_.js";import{_ as W}from"./u-image.CwRgxS0R.js";import{_ as A}from"./u-skeleton.wwaG2qAv.js";import{_ as J}from"./u-empty.n33QbVpb.js";import{_ as N}from"./uni-section.yeJKfGdi.js";import{g as H,i as L,j as O}from"./wallet.B9er1vRS.js";import{_ as V}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-status-bar.vrssoW7T.js";import"./u-icon.CLEL_UCr.js";import"./u-transition.YuOrIOgJ.js";const E=V(Object.assign({name:"user-center-wallet-management"},{__name:"user-center-wallet-management",setup(V){const{t:E}=a();let G=t("transparent");const K=t([]),R=t([]),T=t(!0),X=t(!1),Y=t(!1);let Z=t(!1);async function q(){const{error:a,data:t,message:e}=await L();a?await d({title:e}):(K.value=t.bank_list,R.value=t.wallet_list,T.value=!1,X.value=!K.value.length,Y.value=!R.value.length)}async function P(a,t){j({title:E("common.text.systemHint"),content:E("walletManagement.text.tip1"),success:async e=>{if(e.confirm){const{error:e,message:s}=await O({id:a,type:t});await d({title:s,icon:e?"none":"success"}),e||await q()}}})}function Q(){Z.value?h():d({title:"请先进行实名认证",icon:"none"})}function S(){Z.value?C():d({title:"请先进行实名认证",icon:"none"})}return $((a=>{a.scrollTop>20?G.value="#ff7a4d":G.value="transparent"})),M((()=>{e({key:"userCenterWalletManagementNavBarBgColor",success:function(a){a.data&&(G.value=a.data)}}),async function(){const a=await H();if(a.data&&a.data.info){const t=a.data.info;t.id_card&&0===t.id_auth?Z.value=!1:t.id_card||0!==t.id_auth?1===t.id_auth?Z.value=!0:2===t.id_auth&&(Z.value=!1):Z.value=!1,Z.value||d({title:"请先进行实名认证",icon:"none"})}}(),q()})),z((()=>{s({key:"userCenterWalletManagementNavBarBgColor",data:G.value})})),F((()=>{l({key:"userCenterWalletManagementNavBarBgColor"})})),(a,t)=>{const e=D(n("uni-nav-bar"),B),s=m,l=D(n("uni-icons"),I),d=D(n("up-image"),W),h=D(n("up-skeleton"),A),C=D(n("up-empty"),J),j=D(n("uni-section"),N);return f(),i(u,null,[o(e,{title:"资金管理","status-bar":"","background-color":c(G),color:"#fff",fixed:"",border:!1,"left-icon":"left",onClickLeft:c(p)},null,8,["background-color","onClickLeft"]),o(s,{class:"page-bg"}),o(s,{class:"body"},{default:r((()=>[o(s,{class:"page-header"},{default:r((()=>[o(s,{class:"header-option"},{default:r((()=>[o(s,{class:"header-option-item",onClick:c(_)},{default:r((()=>[g("充值")])),_:1},8,["onClick"]),o(s,{class:"header-option-item",onClick:c(k)},{default:r((()=>[g("提现")])),_:1},8,["onClick"]),o(s,{class:"header-option-item header-option-item-active"},{default:r((()=>[g("钱包")])),_:1})])),_:1})])),_:1}),o(j,{title:a.$t("walletManagement.text.myBankCard"),type:"line",padding:""},{right:r((()=>[o(l,{class:"mr-20",type:"plusempty",size:"30",color:"#037CFF",onClick:Q})])),default:r((()=>[o(h,{rows:"6","rows-height":"100",title:!1,isArticle:!1,loading:T.value},{default:r((()=>[o(s,{class:"bank-list"},{default:r((()=>[(f(!0),i(u,null,y(K.value,(a=>(f(),v(s,{class:"bank-list-item",key:a.id},{default:r((()=>[o(d,{class:"bank-list-item__icon",src:"/static/images/union-pay.png",width:"108rpx",height:"67rpx"}),o(s,{class:"bank-list-item__content ml-20"},{default:r((()=>[o(s,{class:"ml-10 font-14-inverse-bold"},{default:r((()=>[g(x(a.bank),1)])),_:2},1024),o(s,{class:"bank-name"},{default:r((()=>[g(x(a.bank_name),1)])),_:2},1024),o(s,{class:"font-14-inverse"},{default:r((()=>[g(x(a.card),1)])),_:2},1024)])),_:2},1024),o(l,{type:"trash",size:"20",color:"#fff",onClick:t=>P(a.id,0)},null,8,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["loading"]),X.value?(f(),v(C,{key:0,mode:"data",icon:"/static/empty/empty-list.png",text:a.$t("common.text.noData")},null,8,["text"])):b("",!0)])),_:1},8,["title"]),o(j,{title:a.$t("walletManagement.text.myWalletAddress"),type:"line",padding:""},{right:r((()=>[o(l,{class:"mr-20",type:"plusempty",size:"30",color:"#037CFF",onClick:S})])),default:r((()=>[o(h,{rows:"6","rows-height":"80",title:!1,isArticle:!1,loading:T.value},{default:r((()=>[o(s,{class:"address-list"},{default:r((()=>[(f(!0),i(u,null,y(R.value,(a=>(f(),v(s,{class:"address-list-item border-bottom",key:a.id},{default:r((()=>[o(d,{class:"address-list-item__icon",src:a.logo,width:"80rpx",height:"80rpx"},null,8,["src"]),o(s,{class:"address-list-item__content ml-20"},{default:r((()=>[o(s,{class:"font-14"},{default:r((()=>[g(x(`${a.name} (${a.alias||a.bank_owner})`),1)])),_:2},1024),a.address?(f(),v(s,{key:0,class:"font-12 mt-10"},{default:r((()=>[g(x(a.address)+" ",1),o(l,{"custom-prefix":"fc-iconfont",type:"icon-copy",onClick:t=>c(w)(a.address)},null,8,["onClick"])])),_:2},1024)):b("",!0),a.bank_number?(f(),v(s,{key:1,class:"font-12 mt-10"},{default:r((()=>[g(x(a.bank_number)+" ",1),o(l,{"custom-prefix":"fc-iconfont",type:"icon-copy",onClick:t=>c(w)(a.bank_number)},null,8,["onClick"])])),_:2},1024)):b("",!0)])),_:2},1024),o(l,{type:"trash",size:"20",onClick:t=>P(a.id,1)},null,8,["onClick"])])),_:2},1024)))),128))])),_:1}),Y.value?(f(),v(C,{key:0,mode:"data",icon:"/static/empty/empty-list.png",text:a.$t("common.text.noData")},null,8,["text"])):b("",!0)])),_:1},8,["loading"])])),_:1},8,["title"])])),_:1})],64)}}}),[["__scopeId","data-v-fa8c137f"]]);export{E as default};
