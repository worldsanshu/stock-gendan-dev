import{_ as t}from"./uni-nav-bar.U3Cmk77Z.js";import{R as e,V as a,ap as o,x as l,D as s,H as n,Y as r,z as u,F as i,B as m,C as c,Z as d,I as p,J as f,E as v,y as _,G as x,A as y}from"./index-hU8OKPmH.js";import{r as g}from"./uni-app.es.DADla7ur.js";import{_ as b}from"./u-tabs.DteEnMcl.js";import{_ as h}from"./u-loadmore.DqssgiGm.js";import{_ as j}from"./u-empty.BsWToqDu.js";import{N as I,a as k}from"./index.DUzjlh-0.js";import{_ as $}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-icons.DgCYXD5d.js";import"./uni-status-bar.BC4SStPU.js";import"./u-line.ILQrRGaQ.js";import"./u-loading-icon.DGLmxP69.js";import"./u-icon.BX8bEo6J.js";const w=$({__name:"partner-income",setup($){const{t:w}=e(),C=a(1),D=a([]),M=a(1),H=a("loadmore"),A=a(0),B=a([]);function E(t){A.value=t.type,D.value=[],F()}o((()=>{F()}));const F=()=>{I({page:C.value,type:A.value}).then((t=>{for(let e=0;e<t.data.data.length;e++)D.value.push(t.data.data[e]);M.value=t.data.last_page,0==t.data.data.length&&(H.value="nomore")}))},J=()=>{C.value>=M.value&&(H.value="nomore"),C.value>=M.value||(H.value="loading",C.value++,setTimeout((()=>{F()}),0))};return async function(){const t=await k();let e=[];t.data&&(e=[{name:w("partnerIncome.text.all"),type:0},{name:w("partnerIncome.text.teamDivision"),type:1},{name:w("partnerIncome.text.subsidy"),type:3}],1===t.data.module.wage_display&&e.push({name:w("partnerIncome.text.weeklySalary"),type:2}),B.value=e,this.Collect())}(),(e,a)=>{const o=g(l("uni-nav-bar"),t),I=g(l("up-tabs"),b),k=m,$=g(l("up-loadmore"),h),w=g(l("up-empty"),j);return c(),s(i,null,[n(o,{title:e.$t("page.title.partnerIncome"),"status-bar":"","background-color":"#ff3c36",color:"#fff","left-icon":"left",fixed:"",border:!1,onClickLeft:r(d)},null,8,["title","onClickLeft"]),n(k,{class:"root"},{default:u((()=>[n(I,{list:B.value,onClick:E,scrollable:!1},null,8,["list"]),n(k,{class:"fixed"},{default:u((()=>[n(k,{class:"header border-bottom"},{default:u((()=>[n(k,{class:"header-item font-14"},{default:u((()=>[p(f(e.$t("partnerIncome.text.dataSent")),1)])),_:1}),n(k,{class:"header-item font-14"},{default:u((()=>[p(f(e.$t("partnerIncome.text.transactionType")),1)])),_:1}),n(k,{class:"header-item font-14"},{default:u((()=>[p(f(e.$t("partnerIncome.text.amount")),1)])),_:1})])),_:1})])),_:1}),n(k,{class:"list"},{default:u((()=>[(c(!0),s(i,null,v(D.value,((t,e)=>(c(),_(k,{class:"list-item border-bottom",key:e},{default:u((()=>[n(k,{class:"list-item-col"},{default:u((()=>[n(k,{class:"font-12-grey"},{default:u((()=>{return[p(f((e=t.create_time,a=new Date(1e3*e),a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes())),1)];var e,a})),_:2},1024)])),_:2},1024),n(k,{class:"list-item-col font-14"},{default:u((()=>[p(f(t.type_name),1)])),_:2},1024),n(k,{class:y(["list-item-col font-14-red",{"down-color":t.price<0}])},{default:u((()=>[p(f(t.price),1)])),_:2},1032,["class"])])),_:2},1024)))),128))])),_:1}),D.value.length>0?(c(),_($,{key:0,status:H.value,"loading-text":e.$t("common.text.loading"),"loadmore-text":e.$t("common.text.loadMore"),"nomore-text":e.$t("common.text.noMore"),onClick:J},null,8,["status","loading-text","loadmore-text","nomore-text"])):x("",!0),0==D.value.length?(c(),_(w,{key:1,mode:"data",icon:"/static/empty/empty-data.png",text:e.$t("common.text.noData")},null,8,["text"])):x("",!0)])),_:1})],64)}}},[["__scopeId","data-v-3bc1ab9c"]]);export{w as default};
