import{T as a,aC as e,V as t,x as s,y as l,z as n,o as r,B as i,C as u,H as o,Y as c,I as d,J as f,aF as m,aG as p,D as _,E as g,F as h,a9 as v,A as k,G as x,aH as y,O as b,t as w,r as C}from"./index-hU8OKPmH.js";import{_ as j}from"./u-image.hr0f9LKz.js";import{a as F,f as B,r as G}from"./uni-app.es.DADla7ur.js";import{_ as H}from"./uni-nav-bar.U3Cmk77Z.js";import{_ as I}from"./uni-badge.CJQLJhSm.js";import{_ as T}from"./u-button.CBnbv77V.js";import{_ as $}from"./u-icon.BX8bEo6J.js";import{a as z,g as A}from"./wallet.VcNaQDUL.js";import{a as E}from"./index.DUzjlh-0.js";import{_ as J}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-transition.hFcAyfbx.js";import"./uni-icons.DgCYXD5d.js";import"./uni-status-bar.BC4SStPU.js";import"./u-loading-icon.DGLmxP69.js";const D=J({__name:"user-center",setup(J){const D=a(),L=e((()=>D.userinfo));let O=t("transparent"),Q=t(0),V=t([]),Y=t({}),q=t([]),K=t([]);const M=t(),N=a=>{1===a.url_type?1===a.url_level?w({url:a.url}):2===a.url_level&&C({url:a.url}):2===a.url_type&&setTimeout((()=>window.open(a.url,"_blank")))};return E().then((a=>{M.value=a.data.module})),F((()=>{(async()=>{const{data:a,error:e}=await r();0===e&&(q.value=a.user,K.value=a.user_list)})(),(async()=>{const{data:a,error:e}=await z();0===e&&(V.value=a)})(),(async()=>{const{data:a,error:e}=await A();0===e&&(Y.value=a.money,Q.value=a.info.msg_num)})()})),B((a=>{a.scrollTop>34?O.value="#ff6b5a":O.value="transparent"})),(a,e)=>{const t=i,r=G(s("up-image"),j),w=G(s("uni-nav-bar"),H),C=b,F=G(s("uni-badge"),I),B=G(s("up-button"),T),z=G(s("up-icon"),$);return u(),l(t,null,{default:n((()=>[o(t,{class:"page-bg"}),o(r,{class:"page-top-bg",src:"/static/user-center/userCenterBackGround.png",width:"100vw",height:"512rpx"}),o(t,{class:"custom-nab-bar"},{default:n((()=>[o(w,{title:"个人中心","status-bar":"",border:!1,"background-color":c(O),color:"#fff",fixed:""},null,8,["background-color"])])),_:1}),o(t,{class:"main-content"},{default:n((()=>[o(t,{class:"user-info"},{default:n((()=>[o(r,{src:"/static/images/default-avatar.png",width:"120rpx",height:"120rpx",shape:"circle"}),o(t,{class:"info-right"},{default:n((()=>[o(t,{class:"info-right-top"},{default:n((()=>[o(C,null,{default:n((()=>[d(f(L.value.nickname||L.value.mobile||L.value.email),1)])),_:1}),o(t,{class:"message-content",onClick:c(m)},{default:n((()=>[o(r,{src:"/static/user-center/message.png",width:"44rpx",height:"35rpx"}),o(F,{class:"message-badge",text:c(Q)},null,8,["text"])])),_:1},8,["onClick"])])),_:1}),o(t,{class:"edit-data",onClick:c(p)},{default:n((()=>[o(B,{color:"rgba(0, 0, 0, 0.1)",hairline:"",shape:"circle",text:"编辑资料"})])),_:1},8,["onClick"])])),_:1})])),_:1}),o(t,{class:"account-assets"},{default:n((()=>[o(t,{class:"account-assets-top"},{default:n((()=>[o(r,{src:"/static/user-center/assets.png",width:"30rpx",height:"30rpx"}),o(C,{class:"account-assets-title"},{default:n((()=>[d("账号资产")])),_:1}),o(C,{class:"account-assets-amount"},{default:n((()=>[d(f(c(Y).total<0?0:c(Y).total),1)])),_:1})])),_:1}),o(t,{class:"assets-detail"},{default:n((()=>[(u(!0),_(h,null,g(c(V),(a=>(u(),l(t,{key:a.name,style:v(`background: url(${a.img_url})`),class:"assets-detail-item"},{default:n((()=>[o(C,null,{default:n((()=>[d(f(a.name),1)])),_:2},1024),o(C,null,{default:n((()=>[d(f(c(Y)[a.money]<0?0:c(Y)[a.money]),1)])),_:2},1024)])),_:2},1032,["style"])))),128))])),_:1})])),_:1}),c(q).length?(u(),l(t,{key:0,style:v(`grid-template-columns: repeat(${c(q).length>=4?4:c(q).length}, 1fr)`),class:k(["main-option",{"main-option-grid4":c(q).length>=4}])},{default:n((()=>[(u(!0),_(h,null,g(c(q),(a=>(u(),l(t,{key:a.name,class:"main-option-item",onClick:e=>N(a)},{default:n((()=>[o(r,{src:a.img_url,width:"76rpx",height:"76rpx"},null,8,["src"]),o(C,null,{default:n((()=>[d(f(a.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["style","class"])):x("",!0),M.value&&1===M.value.my_rights?(u(),l(t,{key:1,class:"invite-friends",onClick:c(y)},{default:n((()=>[o(t,{class:"invite-friends-title"},{default:n((()=>[o(C,null,{default:n((()=>[d("全新合伙模式")])),_:1}),o(C,null,{default:n((()=>[d("查看我的权益")])),_:1})])),_:1}),o(t,{class:"invite-friends-main"},{default:n((()=>[o(t,{class:"invite-friends-main-left"},{default:n((()=>[o(r,{src:"/static/user-center/inviter.png",width:"85rpx",height:"85rpx"}),o(t,{class:"invite-friends-main-left-inner"},{default:n((()=>[o(t,{class:"invite-friends-main-left-inner-title1"},{default:n((()=>[o(C,null,{default:n((()=>[d("邀请好友领高额返佣")])),_:1}),o(z,{name:"arrow-right",color:"#676767",size:"14"})])),_:1}),o(C,null,{default:n((()=>[d("高额佣金送不停")])),_:1})])),_:1})])),_:1}),o(B,{color:"linear-gradient(-45deg, #FF934C, #FF5B63)",shape:"circle",text:"立即邀请"})])),_:1})])),_:1},8,["onClick"])):x("",!0),c(K).length?(u(),l(t,{key:2,class:"secondary-option"},{default:n((()=>[(u(!0),_(h,null,g(c(K),(a=>(u(),l(t,{class:"secondary-option-item",key:a.name,onClick:e=>N(a)},{default:n((()=>[o(r,{src:a.img_url,width:"50rpx",height:"50rpx"},null,8,["src"]),o(C,null,{default:n((()=>[d(f(a.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):x("",!0),o(t,{class:"log-out"},{default:n((()=>[c(D).token?(u(),l(B,{key:0,color:"#FF4500",text:"退出登录",onClick:e[0]||(e[0]=e=>c(D).handleLogout(a.$t))})):x("",!0)])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-43189759"]]);export{D as default};
