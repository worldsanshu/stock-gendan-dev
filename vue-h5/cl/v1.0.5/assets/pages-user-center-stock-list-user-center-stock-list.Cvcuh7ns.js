import{R as t,aj as e,x as a,D as s,H as o,z as l,A as i,Y as c,y as n,G as r,F as d,B as u,C as m,I as f,J as p,E as _,ah as h,aI as g,q as k}from"./index-hU8OKPmH.js";import{_ as y}from"./u-skeleton.BLpUwz8I.js";import{c as x,d as j,r as w}from"./uni-app.es.DADla7ur.js";import{_ as b}from"./u-empty.BsWToqDu.js";import{_ as R}from"./u-loadmore.DqssgiGm.js";import{o as C,r as $}from"./stock.CbsOVQpn.js";import{u as v}from"./use-data-loader.DF5KNs82.js";import{_ as D}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-icon.BX8bEo6J.js";import"./u-line.ILQrRGaQ.js";import"./u-loading-icon.DGLmxP69.js";const I=D({__name:"user-center-stock-list",setup(D){const{t:I}=t(),{list:L,refresh:A,loadMore:B,loadStatus:E,loading:N,noData:q}=v(C);return A(),x((async()=>{await A(),e()})),j(B),(t,e)=>{const x=u,j=w(a("up-skeleton"),y),C=w(a("up-empty"),b),v=w(a("up-loadmore"),R);return m(),s(d,null,[o(x,null,{default:l((()=>[o(x,{class:"header border-bottom"},{default:l((()=>[o(x,{class:"header-item font-14-bold"},{default:l((()=>[f(p(t.$t("watchlist.text.stockName")),1)])),_:1}),o(x,{class:"header-item font-14-bold"},{default:l((()=>[f(p(t.$t("watchlist.text.latestPrice")),1)])),_:1}),o(x,{class:"header-item font-14-bold"},{default:l((()=>[f(p(t.$t("watchlist.text.increase")),1)])),_:1}),o(x,{class:"header-item font-14-bold"},{default:l((()=>[f(p(t.$t("watchlist.text.decrease")),1)])),_:1})])),_:1})])),_:1}),o(j,{class:i(["list plr-30",{"pt-30":c(N)}]),rows:"10","rows-height":50,title:!1,isArticle:!1,loading:c(N)},{default:l((()=>[(m(!0),s(d,null,_(c(L),((t,e)=>(m(),n(x,{class:"list-item border-bottom",onClick:e=>c(h)({name:t.name,code:t.code}),onLongpress:a=>function(t,e){g({itemList:[I("watchlist.text.tip1")],success:async a=>{if(0===a.tapIndex){const{error:a,message:s}=await $({code:t.code});await k({title:s,icon:a?"none":"success"}),a||L.value.splice(e,1)}}})}(t,e),key:t.id},{default:l((()=>[o(x,{class:"list-item-col"},{default:l((()=>[o(x,{class:"font-14"},{default:l((()=>[f(p(t.name),1)])),_:2},1024),o(x,{class:"font-12-grey"},{default:l((()=>[f(p(t.code),1)])),_:2},1024)])),_:2},1024),t.changeRatio>0?(m(),n(x,{key:0,class:"list-item-col font-14-red"},{default:l((()=>[f(p(t.current_price),1)])),_:2},1024)):(m(),n(x,{key:1,class:"list-item-col font-14-green"},{default:l((()=>[f(p(t.current_price),1)])),_:2},1024)),t.changeRatio>0?(m(),n(x,{key:2,class:"list-item-col font-14-red"},{default:l((()=>[f(p(t.changeRatio)+"%",1)])),_:2},1024)):(m(),n(x,{key:3,class:"list-item-col font-14-green"},{default:l((()=>[f(p(t.changeRatio)+"%",1)])),_:2},1024)),t.changeRatio>0?(m(),n(x,{key:4,class:"list-item-col font-14-red"},{default:l((()=>[f(p(t.change),1)])),_:2},1024)):(m(),n(x,{key:5,class:"list-item-col font-14-green"},{default:l((()=>[f(p(t.change),1)])),_:2},1024))])),_:2},1032,["onClick","onLongpress"])))),128))])),_:1},8,["class","loading"]),c(q)?(m(),n(C,{key:0,mode:"data",icon:"/static/empty/empty-data.png",text:t.$t("common.text.noData")},null,8,["text"])):r("",!0),c(q)||c(N)?r("",!0):(m(),n(v,{key:1,status:c(E),onClick:c(B)},null,8,["status","onClick"]))],64)}}},[["__scopeId","data-v-d886f230"]]);export{I as default};
