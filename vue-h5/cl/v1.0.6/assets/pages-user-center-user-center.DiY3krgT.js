import{T as a,aC as e,V as t,aI as s,aJ as l,x as n,y as r,z as i,o as u,B as o,C as c,H as d,Y as f,I as m,J as p,aF as _,aG as g,D as h,E as v,F as k,a9 as x,A as y,G as b,aH as C,O as w,r as j,q as B}from"./index-eZLOZRr1.js";import{_ as F}from"./u-image.CKDYgjBW.js";import{a as I,f as G,b as H,r as J}from"./uni-app.es.Cg_AhWrk.js";import{_ as T}from"./uni-nav-bar.D0OBKF7O.js";import{_ as $}from"./uni-badge.Ck9fiqKQ.js";import{_ as z}from"./u-button.CF58NdxG.js";import{_ as A}from"./u-icon.Cinv0AqG.js";import{a as E,g as N}from"./wallet.DQcEX44v.js";import{a as q}from"./index.pCJYbHY4.js";import{_ as D}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-transition.CWuZPti4.js";import"./uni-icons.DZmOUZ9v.js";import"./uni-status-bar.dIgvpYbO.js";import"./u-loading-icon.C9PbYIxd.js";const L=D({__name:"user-center",setup(D){const L=a(),O=e((()=>L.userinfo));let Q=t("transparent"),V=t(0),Y=t([]),K=t({}),M=t([]),P=t([]);const R=t(),S=a=>{1===a.url_type?1===a.url_level?j({url:a.url}):2===a.url_level&&B({url:a.url}):2===a.url_type&&setTimeout((()=>window.open(a.url,"_blank")))};return q().then((a=>{R.value=a.data.module})),I((()=>{Q.value="transparent",s({key:"userCenterNavBarBgColor",success:function(a){a.data&&(Q.value=a.data)}}),(async()=>{const{data:a,error:e}=await u();0===e&&(M.value=a.user,P.value=a.user_list)})(),(async()=>{const{data:a,error:e}=await E();0===e&&(Y.value=a)})(),(async()=>{const{data:a,error:e}=await N();0===e&&(K.value=a.money,V.value=a.info.msg_num)})()})),G((a=>{a.scrollTop>34?Q.value="#ff6b5a":Q.value="transparent"})),H((()=>{l({key:"userCenterNavBarBgColor",data:Q.value})})),(a,e)=>{const t=o,s=J(n("up-image"),F),l=J(n("uni-nav-bar"),T),u=w,j=J(n("uni-badge"),$),B=J(n("up-button"),z),I=J(n("up-icon"),A);return c(),r(t,null,{default:i((()=>[d(t,{class:"page-bg"}),d(s,{class:"page-top-bg",src:"/static/user-center/userCenterBackGround.png",width:"100vw",height:"512rpx"}),d(t,{class:"custom-nab-bar"},{default:i((()=>[d(l,{title:"个人中心","status-bar":"",border:!1,"background-color":f(Q),color:"#fff",fixed:""},null,8,["background-color"])])),_:1}),d(t,{class:"main-content"},{default:i((()=>[d(t,{class:"user-info"},{default:i((()=>[d(s,{src:"/static/images/default-avatar.png",width:"120rpx",height:"120rpx",shape:"circle"}),d(t,{class:"info-right"},{default:i((()=>[d(t,{class:"info-right-top"},{default:i((()=>[d(u,null,{default:i((()=>[m(p(O.value.nickname||O.value.mobile||O.value.email),1)])),_:1}),d(t,{class:"message-content",onClick:f(_)},{default:i((()=>[d(s,{src:"/static/user-center/message.png",width:"44rpx",height:"35rpx"}),d(j,{class:"message-badge",text:f(V)},null,8,["text"])])),_:1},8,["onClick"])])),_:1}),d(t,{class:"edit-data",onClick:f(g)},{default:i((()=>[d(B,{color:"rgba(0, 0, 0, 0.1)",hairline:"",shape:"circle",text:"编辑资料"})])),_:1},8,["onClick"])])),_:1})])),_:1}),d(t,{class:"account-assets"},{default:i((()=>[d(t,{class:"account-assets-top"},{default:i((()=>[d(s,{src:"/static/user-center/assets.png",width:"30rpx",height:"30rpx"}),d(u,{class:"account-assets-title"},{default:i((()=>[m("账号资产")])),_:1}),d(u,{class:"account-assets-amount"},{default:i((()=>[m(p(f(K).total<0?0:f(K).total),1)])),_:1})])),_:1}),d(t,{class:"assets-detail"},{default:i((()=>[(c(!0),h(k,null,v(f(Y),(a=>(c(),r(t,{key:a.name,style:x(`background: url(${a.img_url})`),class:"assets-detail-item"},{default:i((()=>[d(u,null,{default:i((()=>[m(p(a.name),1)])),_:2},1024),d(u,null,{default:i((()=>[m(p(f(K)[a.money]<0?0:f(K)[a.money]),1)])),_:2},1024)])),_:2},1032,["style"])))),128))])),_:1})])),_:1}),f(M).length?(c(),r(t,{key:0,style:x(`grid-template-columns: repeat(${f(M).length>=4?4:f(M).length}, 1fr)`),class:y(["main-option",{"main-option-grid4":f(M).length>=4}])},{default:i((()=>[(c(!0),h(k,null,v(f(M),(a=>(c(),r(t,{key:a.name,class:"main-option-item",onClick:e=>S(a)},{default:i((()=>[d(s,{src:a.img_url,width:"76rpx",height:"76rpx"},null,8,["src"]),d(u,null,{default:i((()=>[m(p(a.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["style","class"])):b("",!0),R.value&&1===R.value.my_rights?(c(),r(t,{key:1,class:"invite-friends",onClick:f(C)},{default:i((()=>[d(t,{class:"invite-friends-title"},{default:i((()=>[d(u,null,{default:i((()=>[m("全新合伙模式")])),_:1}),d(u,null,{default:i((()=>[m("查看我的权益")])),_:1})])),_:1}),d(t,{class:"invite-friends-main"},{default:i((()=>[d(t,{class:"invite-friends-main-left"},{default:i((()=>[d(s,{src:"/static/user-center/inviter.png",width:"85rpx",height:"85rpx"}),d(t,{class:"invite-friends-main-left-inner"},{default:i((()=>[d(t,{class:"invite-friends-main-left-inner-title1"},{default:i((()=>[d(u,null,{default:i((()=>[m("邀请好友领高额返佣")])),_:1}),d(I,{name:"arrow-right",color:"#676767",size:"14"})])),_:1}),d(u,null,{default:i((()=>[m("高额佣金送不停")])),_:1})])),_:1})])),_:1}),d(B,{color:"linear-gradient(-45deg, #FF934C, #FF5B63)",shape:"circle",text:"立即邀请"})])),_:1})])),_:1},8,["onClick"])):b("",!0),f(P).length?(c(),r(t,{key:2,class:"secondary-option"},{default:i((()=>[(c(!0),h(k,null,v(f(P),(a=>(c(),r(t,{class:"secondary-option-item",key:a.name,onClick:e=>S(a)},{default:i((()=>[d(s,{src:a.img_url,width:"50rpx",height:"50rpx"},null,8,["src"]),d(u,null,{default:i((()=>[m(p(a.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):b("",!0),d(t,{class:"log-out"},{default:i((()=>[f(L).token?(c(),r(B,{key:0,color:"#FF4500",text:"退出登录",onClick:e[0]||(e[0]=e=>f(L).handleLogout(a.$t))})):b("",!0)])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-8a3272d3"]]);export{L as default};
