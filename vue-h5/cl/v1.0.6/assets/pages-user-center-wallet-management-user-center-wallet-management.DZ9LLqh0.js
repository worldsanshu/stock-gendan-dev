import{R as t,V as a,x as e,D as s,H as l,Y as n,z as i,F as o,v as c,B as r,C as u,as as d,f as m,I as f,b_ as p,E as _,y as k,G as g,ce as y,cf as v,J as b,aX as h,c5 as x}from"./index-eZLOZRr1.js";import{_ as w}from"./uni-nav-bar.D0OBKF7O.js";import{f as C,a as j,r as $}from"./uni-app.es.Cg_AhWrk.js";import{_ as z}from"./uni-icons.DZmOUZ9v.js";import{_ as F}from"./u-image.CKDYgjBW.js";import{_ as A}from"./u-skeleton.ByFcpQG8.js";import{_ as B}from"./u-empty.B35TMJs6.js";import{_ as D}from"./uni-section.sPjhUio3.js";import{g as H,i as I,j as M}from"./wallet.DQcEX44v.js";import{_ as J}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-status-bar.dIgvpYbO.js";import"./u-icon.Cinv0AqG.js";import"./u-transition.CWuZPti4.js";const L=J(Object.assign({name:"user-center-wallet-management"},{__name:"user-center-wallet-management",setup(J){const{t:L}=t();let E=a("transparent");const G=a([]),N=a([]),O=a(!0),R=a(!1),T=a(!1);let U=a(!1);async function V(){const{error:t,data:a,message:e}=await I();t?await c({title:e}):(G.value=a.bank_list,N.value=a.wallet_list,O.value=!1,R.value=!G.value.length,T.value=!N.value.length)}async function W(t,a){x({title:L("common.text.systemHint"),content:L("walletManagement.text.tip1"),success:async e=>{if(e.confirm){const{error:e,message:s}=await M({id:t,type:a});await c({title:s,icon:e?"none":"success"}),e||await V()}}})}function X(){U.value?y():c({title:"请先进行实名认证",icon:"none"})}function Y(){U.value?v():c({title:"请先进行实名认证",icon:"none"})}return C((t=>{t.scrollTop>20?E.value="#ff7a4d":E.value="transparent"})),j((()=>{!async function(){const t=await H();if(t.data&&t.data.info){const a=t.data.info;a.id_card&&0===a.id_auth?U.value=!1:a.id_card||0!==a.id_auth?1===a.id_auth?U.value=!0:2===a.id_auth&&(U.value=!1):U.value=!1,U.value||c({title:"请先进行实名认证",icon:"none"})}}(),V()})),(t,a)=>{const c=$(e("uni-nav-bar"),w),y=r,v=$(e("uni-icons"),z),x=$(e("up-image"),F),C=$(e("up-skeleton"),A),j=$(e("up-empty"),B),H=$(e("uni-section"),D);return u(),s(o,null,[l(c,{title:"资金管理","status-bar":"","background-color":n(E),color:"#fff",fixed:"",border:!1,"left-icon":"left",onClickLeft:n(d)},null,8,["background-color","onClickLeft"]),l(y,{class:"page-bg"}),l(y,{class:"body"},{default:i((()=>[l(y,{class:"page-header"},{default:i((()=>[l(y,{class:"header-option"},{default:i((()=>[l(y,{class:"header-option-item",onClick:n(m)},{default:i((()=>[f("充值")])),_:1},8,["onClick"]),l(y,{class:"header-option-item",onClick:n(p)},{default:i((()=>[f("提现")])),_:1},8,["onClick"]),l(y,{class:"header-option-item header-option-item-active"},{default:i((()=>[f("钱包")])),_:1})])),_:1})])),_:1}),l(H,{title:t.$t("walletManagement.text.myBankCard"),type:"line",padding:""},{right:i((()=>[l(v,{class:"mr-20",type:"plusempty",size:"30",color:"#037CFF",onClick:X})])),default:i((()=>[l(C,{rows:"6","rows-height":"100",title:!1,isArticle:!1,loading:O.value},{default:i((()=>[l(y,{class:"bank-list"},{default:i((()=>[(u(!0),s(o,null,_(G.value,(t=>(u(),k(y,{class:"bank-list-item",key:t.id},{default:i((()=>[l(x,{class:"bank-list-item__icon",src:"/static/images/union-pay.png",width:"108rpx",height:"67rpx"}),l(y,{class:"bank-list-item__content ml-20"},{default:i((()=>[l(y,{class:"ml-10 font-14-inverse-bold"},{default:i((()=>[f(b(t.bank),1)])),_:2},1024),l(y,{class:"bank-name"},{default:i((()=>[f(b(t.bank_name),1)])),_:2},1024),l(y,{class:"font-14-inverse"},{default:i((()=>[f(b(t.card),1)])),_:2},1024)])),_:2},1024),l(v,{type:"trash",size:"20",color:"#fff",onClick:a=>W(t.id,0)},null,8,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["loading"]),R.value?(u(),k(j,{key:0,mode:"data",icon:"/static/empty/empty-list.png",text:t.$t("common.text.noData")},null,8,["text"])):g("",!0)])),_:1},8,["title"]),l(H,{title:t.$t("walletManagement.text.myWalletAddress"),type:"line",padding:""},{right:i((()=>[l(v,{class:"mr-20",type:"plusempty",size:"30",color:"#037CFF",onClick:Y})])),default:i((()=>[l(C,{rows:"6","rows-height":"80",title:!1,isArticle:!1,loading:O.value},{default:i((()=>[l(y,{class:"address-list"},{default:i((()=>[(u(!0),s(o,null,_(N.value,(t=>(u(),k(y,{class:"address-list-item border-bottom",key:t.id},{default:i((()=>[l(x,{class:"address-list-item__icon",src:t.logo,width:"80rpx",height:"80rpx"},null,8,["src"]),l(y,{class:"address-list-item__content ml-20"},{default:i((()=>[l(y,{class:"font-14"},{default:i((()=>[f(b(`${t.name} (${t.alias||t.bank_owner})`),1)])),_:2},1024),t.address?(u(),k(y,{key:0,class:"font-12 mt-10"},{default:i((()=>[f(b(t.address)+" ",1),l(v,{"custom-prefix":"fc-iconfont",type:"icon-copy",onClick:a=>n(h)(t.address)},null,8,["onClick"])])),_:2},1024)):g("",!0),t.bank_number?(u(),k(y,{key:1,class:"font-12 mt-10"},{default:i((()=>[f(b(t.bank_number)+" ",1),l(v,{"custom-prefix":"fc-iconfont",type:"icon-copy",onClick:a=>n(h)(t.bank_number)},null,8,["onClick"])])),_:2},1024)):g("",!0)])),_:2},1024),l(v,{type:"trash",size:"20",onClick:a=>W(t.id,1)},null,8,["onClick"])])),_:2},1024)))),128))])),_:1}),T.value?(u(),k(j,{key:0,mode:"data",icon:"/static/empty/empty-list.png",text:t.$t("common.text.noData")},null,8,["text"])):g("",!0)])),_:1},8,["loading"])])),_:1},8,["title"])])),_:1})],64)}}}),[["__scopeId","data-v-05116ac7"]]);export{L as default};
