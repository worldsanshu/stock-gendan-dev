import{T as s,aD as t,V as a,o as e,aE as l,aF as n,x as c,y as i,z as u,A as o,C as r,H as _,Y as m,aG as f,I as d,J as p,aH as g,D as v,E as x,F as y,aI as k,G as b,N as j,t as h,r as $}from"./index-BpNRNyt1.js";import{_ as C}from"./uni-icons.BdLyHM4-.js";import{c as w,r as A}from"./uni-app.es.DOVXrixg.js";import{_ as z}from"./uni-badge.BtrfuAp_.js";import{_ as F}from"./u-avatar.BM0kx8qT.js";import{_ as I,a as N}from"./uni-list.CseBu6Um.js";import{_ as D}from"./u-button.gilaSs3u.js";import{a as G,i as H}from"./index.oyXK7971.js";import{U as O}from"./uni-status-bar.BKUrsIDI.js";import{g as Y}from"./wallet.lWU6DOuT.js";import{_ as B}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-icon.Bew-d3Qt.js";import"./u-text.D0nuqmKA.js";import"./u-link.B3uAQnZk.js";import"./u-loading-icon.ByX6rnJ-.js";const E="/assets/active-funds-c2xUr-WB.png",J=B(Object.assign({name:"user-center"},{__name:"user-center",setup(B){const J=s(),K=t((()=>J.userinfo)),L=a({}),T=a({}),U=a({}),W=a({}),P=a(0);let Q=a([]),S=a([]);G().then((s=>{T.value=s.data.module})),H({}).then((s=>{U.value=s.data})),w((()=>{V(),async function(){const s=await Y();s.data&&s.data.money&&(L.value=s.data.money,P.value=s.data.info.msg_num,W.value=s.data.info)}()}));const V=async()=>{const s=await e();0===s.error&&(Q.value=s.data.user,S.value=s.data.user_list)};const Z=s=>{1==s.url_type?1==s.url_level?h({url:s.url}):2==s.url_level&&$({url:s.url}):2==s.url_type&&window.open(s.url,"_blank")},q=a(l());return console.log("currentLang",q),n((s=>{q.value=s.locale})),(s,t)=>{const a=A(c("uni-icons"),C),e=A(c("uni-badge"),z),l=r,n=A(c("up-avatar"),F),h=j,$=A(c("uni-list-item"),I),w=A(c("uni-list"),N),G=A(c("up-button"),D);return i(),u(l,{class:"user-center"},{default:o((()=>[_(O),_(l,{class:"top"},{default:o((()=>[_(l,{class:"top-right-icon"},{default:o((()=>[_(a,{type:"email",size:"30",onClick:m(f)},null,8,["onClick"]),_(e,{class:"top-right-num",text:P.value},null,8,["text"])])),_:1})])),_:1}),_(l,{class:"header"},{default:o((()=>[_(n,{src:"/static/images/default-avatar.png"}),_(l,{class:"font-18 ml-30 mr-20 u-flex-fill ellipsis-1"},{default:o((()=>[d(p(K.value.nickname||K.value.mobile||K.value.email),1)])),_:1}),_(l,{class:"header-btn",onClick:m(g)},{default:o((()=>[d(p(s.$t("my.text.editInformation")),1)])),_:1},8,["onClick"])])),_:1}),_(l,{class:"label"},{default:o((()=>[d(p(s.$t("my.text.myAssets")),1)])),_:1}),_(l,{class:"assets-wrapper"},{default:o((()=>[_(l,{class:"assets"},{default:o((()=>[_(l,{class:"assets-item"},{default:o((()=>[_(l,{class:"assets-item__content"},{default:o((()=>[_(l,{class:"font-12"},{default:o((()=>[d(p(s.$t("my.text.accountAssets")),1)])),_:1}),_(l,{class:"font-14"},{default:o((()=>[d(p(L.value.total),1)])),_:1})])),_:1})])),_:1}),_(l,{class:"assets-item"}),_(l,{class:"assets-item bg"},{default:o((()=>[_(l,{class:"assets-item__content"},{default:o((()=>[_(l,{class:"font-12"},{default:o((()=>[d(p(s.$t("my.text.accountBalance")),1)])),_:1}),_(l,{class:"font-14"},{default:o((()=>[d(p(L.value.account),1)])),_:1})])),_:1}),_(h,{class:"assets-item__image",src:"/assets/balance-C26h0NF1.png"})])),_:1}),_(l,{class:"assets-item bg"},{default:o((()=>[_(l,{class:"assets-item__content"},{default:o((()=>[_(l,{class:"font-12"},{default:o((()=>[d(p(s.$t("my.text.margin")),1)])),_:1}),_(l,{class:"font-14"},{default:o((()=>[d(p(L.value.bond_account),1)])),_:1})])),_:1}),_(h,{class:"assets-item__image",src:"/assets/margin-CJKe_HsQ.png"})])),_:1}),_(l,{class:"assets-item bg"},{default:o((()=>[_(l,{class:"assets-item__content"},{default:o((()=>[_(l,{class:"font-12"},{default:o((()=>[d(p(s.$t("my.text.activityFund")),1)])),_:1}),_(l,{class:"font-14"},{default:o((()=>[d(p(L.value.activity_account),1)])),_:1})])),_:1}),_(h,{class:"assets-item__image",src:E})])),_:1}),_(l,{class:"assets-item bg"},{default:o((()=>[_(l,{class:"assets-item__content"},{default:o((()=>[_(l,{class:"font-12"},{default:o((()=>[d(p(s.$t("my.text.freezingAssets")),1)])),_:1}),_(l,{class:"font-14"},{default:o((()=>[d(p(L.value.freeze),1)])),_:1})])),_:1}),_(h,{class:"assets-item__image",src:"/assets/frozen-assets-DhAxbkZI.png"})])),_:1}),_(l,{class:"assets-item bg"},{default:o((()=>[_(l,{class:"assets-item__content"},{default:o((()=>[_(l,{class:"font-12"},{default:o((()=>[d("持仓资产")])),_:1}),_(l,{class:"font-14"},{default:o((()=>[d(p(L.value.contract_gd),1)])),_:1})])),_:1}),_(h,{class:"assets-item__image",src:E})])),_:1})])),_:1})])),_:1}),_(l,{class:"actions"},{default:o((()=>[(i(!0),v(y,null,x(m(Q),(s=>(i(),u(l,{key:s.name,class:"actions-item",onClick:t=>Z(s)},{default:o((()=>[_(h,{class:"actions-item__image",src:s.img_url},null,8,["src"]),_(l,{class:"actions-item__name"},{default:o((()=>[d(p(s.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),_(l,{class:"card",onClick:m(k)},{default:o((()=>[_(l,{class:"card-header"},{default:o((()=>[_(l,{class:"font-16-inverse"},{default:o((()=>[d(p(s.$t("my.text.tip1")),1)])),_:1}),_(l,{class:"font-12-inverse"},{default:o((()=>[d(p(s.$t("my.text.tip2")),1)])),_:1})])),_:1}),_(l,{class:"card-content"},{default:o((()=>[_(h,{class:"card-content__left",src:"/assets/invite-friend-FAY7KeGY.png"}),_(l,{class:"card-content__middle"},{default:o((()=>[_(l,{class:"font-14"},{default:o((()=>[d(p(s.$t("my.text.tip3"))+">",1)])),_:1}),_(l,{class:"font-12 mt-10"},{default:o((()=>[d(p(s.$t("my.text.tip4")),1)])),_:1})])),_:1}),_(l,{class:"card-content__right"},{default:o((()=>[d(p(s.$t("my.text.inviteNow")),1)])),_:1})])),_:1})])),_:1},8,["onClick"]),m(S).length?(i(),u(w,{key:0,class:"mt-30"},{default:o((()=>[(i(!0),v(y,null,x(m(S),(s=>(i(),u($,{key:s.name,title:s.name,"show-extra-icon":"","extra-icon":{type:s.img_url,customPrefix:"fc-iconfont"},clickable:"",link:"",onClick:t=>Z(s)},null,8,["title","extra-icon","onClick"])))),128))])),_:1})):b("",!0),m(J).token?(i(),u(l,{key:1,class:"logout",onClick:t[0]||(t[0]=t=>m(J).handleLogout(s.$t))},{default:o((()=>[_(G,{text:s.$t("my.text.signOut"),color:"rgb(255, 69, 0)"},null,8,["text"])])),_:1})):b("",!0),_(l,{class:"tab-bat-height"})])),_:1})}}}),[["__scopeId","data-v-66982a30"]]);export{J as default};
