<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/html">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <title>后台管理系统</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!--[if lt IE 9]>
    <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
    <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script>

    </script>
    <script src="__ADMIN_CSS__/statistics/layui.all.js" charset="utf-8"></script>
    <link rel="stylesheet" href="__ADMIN_CSS__/statistics/public.css" media="all">
    <link rel="stylesheet" href="__ADMIN_CSS__/statistics/welcome.css" media="all">
    <link rel="stylesheet" href="__ADMIN_CSS__/statistics/laydate.css" media="all">
    <link rel="stylesheet" href="__ADMIN_CSS__/statistics/layer.css" media="all">
    <link rel="stylesheet" href="__ADMIN_CSS__/statistics/code.css" media="all">
    <link rel="stylesheet" href="__ADMIN_CSS__/statistics/layui.css" media="all">

    <script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="jquery"
            src="__ADMIN_CSS__/statistics/jquery-3.4.1.min.js"></script>

    <script type="text/javascript" src="__ADMIN_JS__/core/echarts/echarts.min.js"></script>
    <style>.cke {
        visibility: hidden;
    }</style>
</head>
<body>
<!--<link rel="stylesheet" href="./welcome.css" media="all">-->
<div class="layuimini-container" style="padding: 48px 16px 0 16px;
    position: relative;
    box-sizing: border-box;

    background-repeat: no-repeat;
    background-size: cover;
    min-height: 100vh;">
    <div class="layuimini-main">
        <div class="layui-row layui-col-space15">
            <div class="layui-col-md12">
                <div class="layui-row layui-col-space15">
                    <div class="layui-col-md12">
                        <div class="layui-card">
                            <div class="layui-card-header"><i class="fa fa-warning icon"></i>K线图</div>


                        </div>
                    </div>
                    <div class="layui-col-md6" style="width: 70%">
                        <!-- 为 ECharts 准备一个定义了宽高的 DOM -->

                        <div class="layui-card">
                            <!--                            <div class="layui-card-header"><i class="fa fa-line-chart icon"></i>结算盈亏面板</div>-->
                            <div class="layui-card-body">
                                <div id="echarts"
                                     style="width: 100%; min-height: 500px; -webkit-tap-highlight-color: transparent; user-select: none; position: relative; background: rgba(252, 252, 252, 0);">
                                    <div style="position: relative; overflow: hidden; width: 70%; height: 500px; padding: 0px; margin: 0px; border-width: 0px; cursor: default;">
                                        <canvas width="70%" height="500" data-zr-dom-id="zr_0"
                                                style="position: absolute; left: 0px; top: 0px; width: 880px; height: 500px; user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); padding: 0px; margin: 0px; border-width: 0px;"></canvas>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>

        layui.use(['laydate', 'table'], function () {
            getline();

        })


        function getline() {
            var myChart = echarts.init(document.getElementById('echarts'));
            var data = <?php echo json_encode($line_data); ?> ;
            console.log(data, '数据');
            option = {
                tooltip: {
                    trigger: 'axis',
                    formatter: function (params) {
                        console.log(params)
                        params = params[0]
                        var date = new Date(params.name.replace(/-/g, "/"))
                        return (
                            date.getDate() +
                            '/' +
                            (date.getMonth() + 1) +
                            '/' +
                            date.getFullYear() +
                            ' : ' +
                            params.value[1] + '%'
                        )
                    },
                    axisPointer: {
                        animation: false,
                    },
                },
                xAxis: {
                    type: 'time',
                    splitLine: {
                        show: false,
                    },
                    axisLine: {
                        show: true,
                    },
                    axisTick: {
                        show: true,
                    },
                    axisLabel: {
                        show: true,
                        fontSize: '.75rem',
                        fontWeight: 300,
                        color: '#999999'
                    }
                },
                yAxis: {
                    type: 'value',
                    boundaryGap: [0, '100%'],
                    splitLine: {
                        show: true,
                        lineStyle: {
                            type: 'dashed',
                        },
                    },
                    axisLabel: {
                        show: true,
                        formatter: function (params) {
                            return params + '%'
                        }
                    },
                    axisLine: {
                        show: false,
                    },
                    axisTick: {
                        show: false,
                    },
                    min: function (value) {
                        return value.min
                    },
                    max: function (value) {
                        return value.max
                    },
                },
                grid: {
                    top: 10,
                    bottom: 32,
                    left: 90,
                    right: 20
                },
                series: [
                    {
                        type: 'line',
                        showSymbol: false,
                        data: data,
                        itemStyle: {
                            normal: {
                                color: '#36a540',
                            }
                        },
                        areaStyle: {
                            normal: {
                                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                    {
                                        offset: 0,
                                        color: '#dcf4e5',
                                    },
                                    {
                                        offset: 1,
                                        color: '#FFFFFF',
                                    },
                                ]),
                            }
                        },
                    },
                ],
            }

            // 使用刚指定的配置项和数据显示图表。
            myChart.setOption(option);
        }


    </script>

</body>
</html>